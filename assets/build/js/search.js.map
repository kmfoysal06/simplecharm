{"version":3,"file":"js/search.js","mappings":"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","sources":["webpack://simplecharm-portfolio-plugin/./src/js/load_search.js","webpack://simplecharm-portfolio-plugin/./src/js/multiselect.js","webpack://simplecharm-portfolio-plugin/./src/scss/search_page.scss","webpack://simplecharm-portfolio-plugin/webpack/bootstrap","webpack://simplecharm-portfolio-plugin/webpack/runtime/compat get default export","webpack://simplecharm-portfolio-plugin/webpack/runtime/define property getters","webpack://simplecharm-portfolio-plugin/webpack/runtime/hasOwnProperty shorthand","webpack://simplecharm-portfolio-plugin/webpack/runtime/make namespace object","webpack://simplecharm-portfolio-plugin/./src/js/search.js"],"sourcesContent":["(function($){\n    class LoadSearch{\n        constructor(){\n            this.init();\n            this.page = 1;\n        }\n        init(){\n            this.load_posts();\n        }\n        load_categories(){\n            let selectedOptions = $(\"#categories option:selected\");\n            let selectedNames = [];\n\n            for (let i = 0; i < selectedOptions.length; i++) {\n                let nameValue = selectedOptions[i].getAttribute('name');\n                selectedNames.push(nameValue);\n            }\n\n            return selectedNames;\n        }\n        load_posts(){\n            $('#simplecharm-advanced-search-form').on('submit', function(e){\n            e.preventDefault();\n            let search_term = $('.search-field').val();\n            let categories = this.load_categories();\n            requestPosts(e,search_term,categories,this.page);\n        });\n        }\n        requestPosts(e,search_term,categories,page) {\n            let pagination = $('.simplecharm-searchpage-pagination');\n                pagination.innerHTML = '';\n\n            let totalPage = 1;\n\n            let apiUrl = new URL('/wp-json/wp/v2/posts', window.location.origin);\n            let params = new URLSearchParams();\n\n            if (search_term) {\n                params.append('search', search_term);\n            }\n\n            if (categories.length > 0) {\n                params.append('categories', categories.join(',')); \n            }\n\n            if(page){\n                params.append('page',page);\n            }\n\n            $('#simplecharm-loading-overlay').show();\n\n             fetch(apiUrl + '?' + params.toString())\n            .then(response => {\n                totalPage = response.headers.get('X-WP-TotalPages');\n                return response.json()\n            })\n            .then(posts => {\n                let resultsContainer = $('#simplecharm-search-page');\n                resultsContainer.innerHTML = ''; // Clear previous results\n\n                // Check if there are posts\n                if (posts.length > 0) {\n                    posts.forEach(post => {\n                        let date = new Date(post.date);\n                        let options = { year: 'numeric', month: 'long', day: 'numeric' };\n                        post.date = date.toLocaleDateString('en-US', options);\n                        let postdate = post.date;\n                        if((post.title.rendered.length) <= 0){\n                            postdate = `<a href=\"${post.link}\">${post.date}</a>`;\n                        }\n\n                        let postElement = document.createElement('div');\n                        postElement.classList.add(`post-${post.id}`,'simplecharm-text-center', 'simplecharm-content');\n                        postElement.innerHTML = `\n                <h1 class=\"post-title\">\n                    <a href=\"${post.link}\">${post.title.rendered}</a>\n                </h1>\n                <div class=\"post-meta\">\n                    <span class=\"post-date\">\n                    ${postdate}\n                    </span>\n                </div>\n                <div class=\"post-content\">\n                    ${post.excerpt.rendered}\n                </div> `;\n            resultsContainer.appendChild(postElement);\n                    });\n                    if(totalPage > 1){\n                        let pagination = document.querySelector('.simplecharm-searchpage-pagination');\n                        pagination.innerHTML = '';\n                        for(let i = 1;i <= totalPage;i++){\n                            let pageBtn = document.createElement('a');\n                            pageBtn.classList.add(i);\n                            pageBtn.classList.add(page == i ? 'active' : 'inactive');\n                            pageBtn.innerText = i;\n                            pagination.appendChild(pageBtn);\n                            pageBtn.addEventListener(\"click\",function(e){\n                                let page = !(pageBtn.classList[0]) ? 1 : pageBtn.classList[0];\n                                requestPosts(e,search_term,categories,page);\n            });\n                        }\n                    }else{\n                        let pagination = document.querySelector('.simplecharm-searchpage-pagination');\n                        pagination.innerHTML = '';\n                    }\n                } else {\n                    resultsContainer.innerHTML = `<p class=\"simplecharm-text-center\">No search results found for \"${search_term}\"</p>`;\n                }\n                $('#simplecharm-loading-overlay').hide();\n            })\n            .catch(error => {\n                console.error('Error fetching posts:', error);\n                document.getElementById('simplecharm-search-page').innerHTML = '<p>Error fetching posts.</p>';\n            });\n        }\n    }\n\n    new LoadSearch;\n\n})(jQuery)","(function($){\n  class Multiselect{\n    constructor(){\n      this.init();\n    }\n\n    init(){\n      this.load_multiselect();\n      this.control_multiselect();\n    }\n\n    load_multiselect(){\n      const list = $('.simplecharm-select-options li');\n\n      list.each(function(){\n        this.addEventListener('click',function(e){\n          let checked = this.querySelector('input');\n          e.preventDefault();\n          checked.checked = !checked.checked;\n          checked.checked ? checked.classList.add(\"selected\"): checked.classList.remove(\"selected\");\n         $(`#${this.className}`).selected = checked.checked;\n\n          const selectedStatus = $(\".simplecharm-select-form p b\");\n          const selectedCount = $(\".selected\");\n\n          if(selectedCount.length){\n            selectedStatus.innerText = `${selectedCount.length} Categories Selected`;\n          }else{\n            selectedStatus.innerText = `Select Categories`;  \n          }\n        });\n      })\n    }\n\n    control_multiselect(){\n      const selectTitle = $(\".simplecharm-select-form p\");\n      const selectOptions = $(\".simplecharm-select-options\");\n      const selectDropdownIcon = $(\".simplecharm-selectform-dropdown-icon\");\n\n      selectTitle.on(\"click\", function(e){\n        selectOptions.toggleClass(\"multiselect-closed\");\n        selectDropdownIcon.toggleClass(\"multiselect-open\");\n        selectOptions.toggleClass(\"multiselect-hide\");\n      })\n    }\n\n  }\n\n  new Multiselect;\n})(jQuery)","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import \"../scss/search_page.scss\"\nimport \"./multiselect.js\"\nimport \"./load_search.js\""],"names":["$","LoadSearch","_classCallCheck","init","page","_createClass","key","value","load_posts","load_categories","selectedOptions","selectedNames","i","length","nameValue","getAttribute","push","on","e","preventDefault","search_term","val","categories","requestPosts","_requestPosts","_x","_x2","_x3","_x4","apply","arguments","toString","pagination","innerHTML","totalPage","apiUrl","URL","window","location","origin","params","URLSearchParams","append","join","show","fetch","then","response","headers","get","json","posts","resultsContainer","forEach","post","date","Date","options","year","month","day","toLocaleDateString","postdate","title","rendered","concat","link","postElement","document","createElement","classList","add","id","excerpt","appendChild","querySelector","_loop","pageBtn","innerText","addEventListener","hide","catch","error","console","getElementById","jQuery","Multiselect","load_multiselect","control_multiselect","list","each","checked","remove","className","selected","selectedStatus","selectedCount","selectTitle","selectOptions","selectDropdownIcon","toggleClass"],"sourceRoot":""}