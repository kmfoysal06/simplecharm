!function(){var e={684:function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,n(o.key),o)}}function n(t){var n=function(t){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(n)?n:n+""}var r;r=jQuery,new(function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init(),this.page=1},n=[{key:"init",value:function(){this.load_posts()}},{key:"load_categories",value:function(){for(var e=document.getElementById("categories").selectedOptions,t=[],n=0;n<e.length;n++){var r=e[n].getAttribute("name");t.push(r)}return t}},{key:"load_posts",value:function(){var e=this;r("#simplecharm-advanced-search-form").on("submit",(function(t){t.preventDefault();var n=r(".search-field").val(),o=e.load_categories();e.requestPosts(t,n,o,e.page)}))}},{key:"requestPosts",value:function(e,t,n,o){var a=this;r(".simplecharm-searchpage-pagination").html("");var i=1,c=new URL("/wp-json/wp/v2/posts",window.location.origin),s=new URLSearchParams;t&&s.append("search",t),n.length>0&&s.append("categories",n.join(",")),o&&s.append("page",o),r("#simplecharm-loading-overlay").show(),fetch(c+"?"+s.toString()).then((function(e){return i=e.headers.get("X-WP-TotalPages"),e.json()})).then((function(e){var c=r("#simplecharm-search-page");if(c.html(""),e.length>0)if(e.forEach((function(e){var t=new Date(e.date);e.date=t.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});var n=e.date;e.title.rendered.length<=0&&(n='<a href="'.concat(e.link,'">').concat(e.date,"</a>"));var r=document.createElement("div");r.classList.add("post-".concat(e.id),"simplecharm-text-center","simplecharm-content"),r.innerHTML='\n                <h1 class="post-title">\n                    <a href="'.concat(e.link,'">').concat(e.title.rendered,'</a>\n                </h1>\n                <div class="post-meta">\n                    <span class="post-date">\n                    ').concat(n,'\n                    </span>\n                </div>\n                <div class="post-content">\n                    ').concat(e.excerpt.rendered,"\n                </div> "),c.append(r)})),i>1){var s=r(".simplecharm-searchpage-pagination");s.html("");for(var l=function(){var e=document.createElement("a");e.classList.add(u),e.classList.add(o==u?"active":"inactive"),e.innerText=u,s.append(e),e.addEventListener("click",(function(r){a.page=e.classList[0]?e.classList[0]:1,a.requestPosts(r,t,n,a.page)}))},u=1;u<=i;u++)l()}else r(".simplecharm-searchpage-pagination").html("");else c.innerHTML='<p class="simplecharm-text-center">No search results found for "'.concat(t,'"</p>');r("#simplecharm-loading-overlay").hide()})).catch((function(e){console.error("Error fetching posts:",e),document.getElementById("simplecharm-search-page").innerHTML="<p>Error fetching posts.</p>",r("#simplecharm-loading-overlay").hide()}))}}],n&&t(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n}())},488:function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,n(o.key),o)}}function n(t){var n=function(t){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(n)?n:n+""}var r;r=jQuery,new(function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.init()},n=[{key:"init",value:function(){this.load_multiselect(),this.control_multiselect()}},{key:"load_multiselect",value:function(){r(".simplecharm-select-options li").each((function(){var e=this;r(this).on("click",(function(t){t.preventDefault();var n=r(e).find("input")[0];n.checked=!n.checked,n.checked?r(n).addClass("selected"):r(n).removeClass("selected"),r("#".concat(e.className)).prop("selected",n.checked),r("#".concat(e.className)).selected=n.checked;var o=r(".simplecharm-select-form p b"),a=r(".selected");a.length?o.text("".concat(a.length," Category Selected")):o.text("Select Categories")}))}))}},{key:"control_multiselect",value:function(){var e=r(".simplecharm-select-form p"),t=r(".simplecharm-select-options"),n=r(".simplecharm-selectform-dropdown-icon");e.on("click",(function(e){t.toggleClass("multiselect-closed"),n.toggleClass("multiselect-open"),t.toggleClass("multiselect-hide")}))}}],n&&t(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n}())}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";n(488),n(684)}()}();
//# sourceMappingURL=search.js.map